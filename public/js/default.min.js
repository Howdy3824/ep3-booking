(function(){$(document).ready(function(){$(".autofocus").focus();$(".message").each(c);$(document).on("click",".dismiss-message-link",d);$(".inline-label").find("span").show();$(".inline-label-container").each(function(){updateInlineLabel($(this))});$(document).on("change focus focusin focusout blur keydown",".inline-label-container",function(){updateInlineLabel($(this))});$(document).ready(a);$(".datepicker").datepicker();$(document).tooltip({content:function(){return $(this).data("tooltip")},items:"[data-tooltip]",position:{my:"center top+8",at:"center bottom",collision:"flipfit",within:"#content"}});$(window).resize(b);$(document).ready(b);$(document).on("updateLayout",b)});function b(){var e=$(".links").first();var n=$("#content > .centered-panel.content-panel").first();if(!n.length){n=$("#content > .centered-panel").first()}if(e.length&&n.length){var k=n.outerWidth();var j=parseInt(n.css("margin-top"));var l=parseInt(n.css("margin-left"));if(isNaN(j)){j=0}if(isNaN(l)){l=0}var g=e.find(".links-back").first();var m=0;if(g.length){g.css("position","absolute");m=g.outerWidth(true)}var f=e.find(".links-forth").first();var o=0;if(f.length){f.css("position","absolute");o=f.outerWidth(true)}var h=k+Math.max(m,o)*2;if(h>=$(window).width()){g.removeAttr("style");f.removeAttr("style")}else{var i;if(l>0){var p=parseInt(n.parent().css("padding-left"));if(isNaN(p)){p=0}i=l+p}else{i=Math.floor(n.position().left)}g.css({left:i-m,top:Math.min(n.position().top+j+Math.round(n.outerHeight()/2)-Math.round(g.outerHeight()/2),384)});f.css({left:i+k,top:Math.min(n.position().top+j+Math.round(n.outerHeight()/2)-Math.round(f.outerHeight()/2),384)})}}}function c(e){var f=$(this);blink(f,e*100);if(f.is(".default-message, .success-message, .info-message, .error-message")){if(f.closest(".messages-panel").siblings(".centered-panel").length){f.prepend('<a href="#" class="unlined white dismiss-message-link" style="float:right;">&times;</a>')}}}function d(h){h.preventDefault();var g=$(this).closest(".messages-panel");var f=g.find(".message");if(f.length){var e=$(this).closest(".message");e.fadeOut(500,function(){e.remove();$(document).trigger("updateLayout")})}else{g.fadeOut(500,function(){g.remove();$(document).trigger("updateLayout")})}}function a(){var e=$("html").attr("lang");var f=$("#logo").attr("href");if(e&&e!=="en-US"){$("body").append('<script type="text/javascript" src="'+f+"js/jquery-ui/i18n/"+e+'.js"><\/script>')}$.datepicker.setDefaults({altFormat:"M d, yy",dateFormat:"M d, yy",onSelect:function(){that=$(this);that.trigger("change");updateInlineLabel(that);if(that.is(".datepicker-autosubmit")){that.closest("form").submit()}},showAnim:"slideDown"})}})();function updateInlineLabel(a){var b=a.siblings(".inline-label");if(b.length){if(a.val()){b.find("span").clearQueue().hide()}else{if(a.is(":focus")){b.find("span").clearQueue().delay(100).fadeOut(300)}else{b.find("span").clearQueue().delay(100).fadeIn(300)}}}}function blink(b,a,c,d){if(!b){return}if(!a){a=0}if(!c){c=300}if(!d){d=0.25}b.delay(a).fadeTo(c,d,function(){b.fadeTo(c,1)})};